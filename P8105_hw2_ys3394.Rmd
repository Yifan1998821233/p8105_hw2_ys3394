---
title: "P8105_hw2_ys3394"
author: Yifan Su
output: github_document
---

```{r}
library(tidyverse)
library(readxl)
```

## Problem 1

Read and clean the Mr. Trach Wheel dataset.

```{r}
trash_df =
  read_xlsx(
    "./data2/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "Mr. Trash Wheel",
    range = cell_cols("A:N")) %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(
    sport_balls = round(sports_balls),
    sport_balls = as.integer(sports_balls)
  )
```

Read and clean precipitation data for 2017 and 2018.

```{r}
pre_2018 = 
  read_xlsx(
    "./data2/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation",
    skip = 1) %>% 
  janitor::clean_names() %>% 
  drop_na(month) %>% 
  mutate(year = 2018) %>% 
  relocate(year)

pre_2017 = 
  read_xlsx(
    "./data2/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2017 Precipitation",
    skip = 1) %>% 
  janitor::clean_names() %>% 
  drop_na(month) %>% 
  mutate(year = 2017) %>% 
  relocate(year)
```

Then, combine two precipitation datasets.

```{r}
month_df =
  tibble(
    month = 1:12,
    month_name = month.name)

pre_df =
  bind_rows(pre_2018, pre_2017)

left_join(pre_df, month_df, by = "month")

trash_dfm = 
  filter(trash_df, year == "2017")
```

Mr.Trash Wheel is a vessel removes trash in Baltimore, Maryland since 2014. The dataset is about the information stored in the dumpster, including month, year, volumes and types of trash. For the data of precipitation in 2018, there are `r nrow(pre_2018)` rows, and the total precipitation in 2018 is `r sum(pull(pre_2018, total))`. The median number of sports balls in the dumpster in 2017 is `r median(pull(trash_dfm, sport_balls))`.


## Problem 2

Read and clean the NYC Transit dataset.

```{r}
NYC_df = 
  read_csv(
    "./data2/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>%   
  janitor::clean_names() %>% 
  select(line:entry, vending, ada) %>% 
  mutate(entry = if_else(entry == "YES", 1, 0))
```

Write a paragraph.

Answer some questions about the data.

```{r}
nrow(distinct(NYC_df, line, station_name))
nrow(filter(NYC_df, ada == "TRUE"))
nrow(filter(NYC_df, vending == "NO")) / nrow(NYC_df)
```

